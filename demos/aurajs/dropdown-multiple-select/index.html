<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Dropdown Multiple Select</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!--<link rel="stylesheet" href="../../.tmp/husky.css">-->
    <link rel="stylesheet" href="../../../dist/husky.min.css">

    <style>
        .container {
            width: 800px;
            margin-left: 300px;
            margin-top: 100px;
        }
    </style>

</head>

<body>

<div class="container">

    <div class="grid-row">

        <div class="grid-col-6" id="ddms"></div>
        <div class="grid-col-6" id="ddms2"></div>
    </div>

    <div class="grid-row m-top-30"><input type="text" class="form-element"/></div>
    <div class="grid-row" style="margin-top:150px;">
        <div class="grid-col-4 pointer" id="show">Show</div>
        <div class="grid-col-4 pointer" id="hide">Hide</div>
        <div class="grid-col-4 pointer" id="toggle">Toggle</div>
    </div>
</div>

<script src="../js/sinon.js"></script>
<script src="../js/jquery.js"></script>

<script src="../js/require.js"></script>


<script>
    require.config({
        baseUrl: '../../../'
    });

    require(['lib/husky'], function(Husky) {
        'use strict';

        var app = Husky({ debug: { enable: true }}),
                _ = app.sandbox.util._;

        app.start([
                    {
                        name: 'dropdown-multiple-select@husky',
                        options: {
                            el: '#ddms',
                            instanceName: 'ddms',
                            defaultLabel: 'Please choose ...',
                            value: 'name',
                            data: ['Deutsch','English','Spanish','Italienisch']
                        }
                    },
                    {
                        name: 'dropdown-multiple-select@husky',
                        options: {
                            el: '#ddms2',
                            instanceName: 'ddms2',
                            defaultLabel: 'Please choose ...',
                            value: 'name',
                            data: [
                                {id: 0, name: 'Deutsch'},
                                {id: 1, name: 'English'},
                                {id: 2, name: 'Spanish'},
                                {id: 3, name: 'Italienisch'}
                            ]
                        }
                    }
                ]).then(function() {

                    app.sandbox.on('husky.dropdown.multiple.select.ddms.deselected.item', function(item) {
                        console.log("drop-down multiple select ddms: deselected item: " + item);
                    });

                    app.sandbox.on('husky.dropdown.multiple.select.ddms.selected.item', function(item) {
                        console.log("drop-down multiple select ddms: selected item: " + item);
                    });

                    app.sandbox.dom.on('#show', 'click', function() {
                        app.sandbox.emit('husky.dropdown.multiple.select.ddms.show');
                    });

                    app.sandbox.dom.on('#hide', 'click', function() {
                        app.sandbox.emit('husky.dropdown.multiple.select.ddms.hide');
                    });

                    app.sandbox.dom.on('#toggle', 'click', function() {
                        app.sandbox.emit('husky.dropdown.multiple.select.ddms.toggle');
                    });




                    app.sandbox.on('husky.dropdown.multiple.select.ddms2.deselected.item', function(item) {
                        console.log("drop-down multiple select ddms2: deselected item: " + item);
                    });

                    app.sandbox.on('husky.dropdown.multiple.select.ddms2.selected.item', function(item) {
                        console.log("drop-down multiple select ddms2: selected item: " + item);
                    });

                });

    });


</script>
</body>
</html>
