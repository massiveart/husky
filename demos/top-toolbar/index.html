<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Husky UI Top Toolbar</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="stylesheet" href="../../dist/husky.min.css">
</head>
<style>
    body {
        padding-top: 100px;
    }
</style>
<body>
<div class="toolbar highlight-animation"></div>
<button id="toggleState">Disable/Enable Save</button>
<button id="loadingState">set Save loading</button>
<button id="setBack">enable dropdowns with set back</button>
<script src="../js/sinon.js"></script>
<script src="../js/jquery.js"></script>
<script src="../js/require.js"></script>
<script>
    require.config({
        baseUrl: '../../'
    });

    require(['lib/husky'], function(Husky) {
        'use strict';

        var app = Husky({ debug: { enable: true }}),
                _ = app.sandbox.util._,

            toggleState = 1,

            testData = [
                {
                    id: 1,
                    icon: 'remove',
                    container: 'left',
                    align: 'left',
                    customClass: 'exit',
                    closeComponent: true,
                    callback: function() {
                        console.log('You clicked on exit');
                    }
                },
                {
                    id: 2,
                    icon: 'publish',
                    container: 'left',
                    align: 'right',
                    customClass: 'state',
                    dynamicIcon: true,
                    items: [
                        {
                            title: 'publish',
                            selectedIcon: 'publish',
                            callback: function() {
                                console.log('Congrats! You are a publishing-champ');

                                app.sandbox.emit('husky.top-toolbar.2.loading');
                                setTimeout(function() {
                                    app.sandbox.emit('husky.top-toolbar.2.enable', false, false);
                                }, 1000);
                            }
                        },
                        {
                            title: 'unpublish',
                            selectedIcon: 'unpublish',
                            callback: function() {
                                console.log(':( Why unpublish?');

                                app.sandbox.emit('husky.top-toolbar.2.loading');
                                setTimeout(function() {
                                    app.sandbox.emit('husky.top-toolbar.2.enable', false, false);
                                }, 1000);
                            }
                        },
                        {
                            title: 'unpublish broken',
                            selectedIcon: 'cross',
                            callback: function() {
                                console.log(':( Why unpublish?');

                                app.sandbox.emit('husky.top-toolbar.2.loading');
                                setTimeout(function() {
                                    app.sandbox.emit('husky.top-toolbar.2.enable', false, true);
                                }, 1000);
                            }
                        }
                    ]
                },
                {
                    id: 3,
                    icon: 'delete',
                    container: 'left',
                    align: 'right',
                    customClass: 'delete',
                    callback: function() {
                        console.log('You clicked on delete');
                    }
                },
                {
                    id: 4,
                    icon: 'floppy-save',
                    disabledIcon: 'remove',
                    container: 'left',
                    align: 'right',
                    customClass: 'save',
                    highlight: true,
                    callback: function() {
                        console.log('You clicked on save');
                    }
                },
                {
                    id: 5,
                    container: 'right',
                    align: 'right',
                    customClass: 'resolution',
                    title: '1024 x 768',
                    dynamicTitle: true,
                    items: [
                        {
                            title: '1024 x 768',
                            callback: function() {
                                console.log('Changed resolution to 1024 x 768');
                            }
                        },
                        {
                            title: '1280 x 800',
                            callback: function() {
                                console.log('Changed resolution to 1280 x 800');
                            }
                        },
                        {
                            title: '1920 x 1080',
                            callback: function() {
                                console.log('Changed resolution to 1920 x 1080');
                            }
                        }
                    ]
                }
            ];

        app.start([{
            name: 'top-toolbar@husky',
            options: {
                el: '.toolbar',
                data: testData
            }
        }]).then(function() {
            app.logger.log('Aura started...');
        });

        $('#toggleState').on('click', function() {
            if (toggleState === 1) {
                app.sandbox.emit('husky.top-toolbar.4.disable', true);
                toggleState = 0;
            } else {
                app.sandbox.emit('husky.top-toolbar.4.enable', true);
                toggleState = 1;
            }
        });
        $('#loadingState').on('click', function() {
            app.sandbox.emit('husky.top-toolbar.4.loading');
        });
        $('#setBack').on('click', function() {
            app.sandbox.emit('husky.top-toolbar.2.enable', false, true);
            app.sandbox.emit('husky.top-toolbar.5.enable', false, true);
        });
    });
</script>
</body>
</html>
